{% extends "base.html" %}

{% block js %}
<script type="text/javascript">
    function addToPlaylist(song_id) {
        var data = {
            song_id: song_id,
            playlist_id: 1
        }
        $.post("/playlist/add/", data, function(response) {

        });
    }

    var table = $("#songs-list").DataTable({

        "autoWidth" : false,
        "processing": true,
        "serverSide": true,
        "iDisplayLength" : 50,
        "responsive": true,
        "ajax": '/song/songlist/',
        "columns": [
            { "searchable": true},
            { "searchable": false }
          ],
        "searchCols": [
            {"search": "name"}
        ]
    });
</script>
{% endblock %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="login-panel panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Admin Login</h3>
                </div>
                <div class="panel-body">
                    {% if error %}
                    <div style="color: red; margin-bottom: 10px;">{{error}}</div>
                    {% endif %}
                    <form action="/admin/login/" method="POST" role="form">
                        {% csrf_token %}
                        <fieldset>

                            <div class="form-group">
                                <input class="form-control" placeholder="Username" name="username" type="text" autofocus>
                            </div>

                            <div class="form-group">
                                <input class="form-control" placeholder="Password" name="password" type="password" autofocus>
                            </div>
                            <!-- Change this to a button or input when using this as a form -->
                            <input name="commit" class="btn btn-lg btn-success btn-block" type="submit" value="Login" />
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}